{% extends 'base.html' %} {% load static %} {% block title %}Email Validation -
CyberX Security Platform{% endblock %} {% block extra_css %}
<link rel="stylesheet" href="{% static 'css/services.css' %}" />
<style>
  /* ===== EMAIL VALIDATION â€” PAGE-SPECIFIC STYLES ===== */

  /* Validation Steps */
  .validation-steps {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .step-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px 15px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    border-left: 3px solid transparent;
  }

  .step-item.passed {
    border-left-color: var(--primary-color);
  }
  .step-item.failed {
    border-left-color: var(--accent-red);
  }
  .step-item.warning {
    border-left-color: #ffc107;
  }

  .step-icon {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
  }

  .step-icon.passed {
    background: rgba(0, 255, 136, 0.2);
    color: var(--primary-color);
  }
  .step-icon.failed {
    background: rgba(255, 71, 87, 0.2);
    color: var(--accent-red);
  }
  .step-icon.warning {
    background: rgba(255, 193, 7, 0.2);
    color: #ffc107;
  }

  .step-content {
    flex: 1;
  }

  .step-name {
    font-weight: 600;
    font-size: 0.95rem;
    margin-bottom: 3px;
  }

  .step-detail {
    color: var(--text-secondary);
    font-size: 0.85rem;
  }

  /* Risk Factors */
  .risk-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .risk-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .risk-item:last-child {
    border-bottom: none;
  }

  .risk-item i {
    color: #ffc107;
    margin-top: 3px;
  }

  .risk-item span {
    color: var(--text-secondary);
    font-size: 0.95rem;
  }

  /* MX Records */
  .mx-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .mx-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 15px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
  }

  .mx-priority {
    background: var(--primary-color);
    color: var(--dark-bg);
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 700;
  }

  .mx-server {
    color: var(--text-primary);
    font-family: "Courier New", monospace;
    font-size: 0.9rem;
  }

  /* (features section styles are in services.css) */
</style>
{% endblock %} {% block content %}
<div class="container">
  <!-- Hero Section -->
  <section class="service-hero">
    <h1 class="glitch" data-text="EMAIL VALIDATION">
      EMAIL VALIDATION
      <span class="version-badge">v2.0</span>
    </h1>
    <p class="hero-subtitle">
      Advanced email validation with comprehensive security analysis, temporary
      email detection, and real-time DNS verification.
    </p>
    <div class="stats-row">
      <div class="stat-item">
        <span class="stat-number">200+</span>
        <span class="stat-label">Temp Domains</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">5</span>
        <span class="stat-label">Validation Layers</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">99%</span>
        <span class="stat-label">Accuracy</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">&lt;5s</span>
        <span class="stat-label">Response</span>
      </div>
    </div>
  </section>

  <!-- Validation Form -->
  <section class="validation-section">
    <div class="service-form-card">
      <div class="form-header">
        <h2><i class="fas fa-shield-alt"></i> Email Security Validator</h2>
        <p>Enter an email address to perform comprehensive security analysis</p>
      </div>

      <form
        method="post"
        action="{% url 'emailvalidation:index' %}"
        id="emailValidationForm"
      >
        {% csrf_token %}
        <div class="input-group">
          <label for="email">Email Address</label>
          <i class="fas fa-envelope input-icon"></i>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="example@domain.com"
            required
            autocomplete="email"
          />
        </div>

        <button type="submit" class="btn-service" id="submitBtn">
          <i class="fas fa-search"></i>
          <span>Validate Email</span>
        </button>
      </form>

      <div class="loading-indicator" id="loadingIndicator">
        <div class="loading-spinner"></div>
        <p class="loading-text">Analyzing email security...</p>
      </div>
    </div>
  </section>

  <!-- Results Section -->
  {% if result %}
  <section class="results-section">
    <div class="result-card">
      <!-- Result Header -->
      <div class="result-header {{ result.status_color }}">
        <div class="result-icon {{ result.status_color }}">
          <i class="{{ result.status_icon }}"></i>
        </div>
        <div class="result-title {{ result.status_color }}">
          <h3>{{ result.title }}</h3>
          <p>{{ result.explanation }}</p>
        </div>
        {% if result.processing_time_ms %}
        <div class="processing-time">
          <i class="fas fa-bolt"></i> {{ result.processing_time_ms|floatformat:0
          }}ms
        </div>
        {% endif %}
      </div>

      <!-- Result Body -->
      <div class="result-body">
        <!-- Quick Details -->
        <div class="detail-grid">
          <div class="detail-item">
            <div class="detail-label">Email Address</div>
            <div class="detail-value">{{ result.email }}</div>
          </div>
          <div class="detail-item">
            <div class="detail-label">Domain</div>
            <div class="detail-value">{{ result.domain|default:"N/A" }}</div>
          </div>
          <div class="detail-item">
            <div class="detail-label">Valid Format</div>
            <div class="detail-value">
              {% if result.is_valid %}
              <i class="fas fa-check-circle check"></i> Yes {% else %}
              <i class="fas fa-times-circle cross"></i> No {% endif %}
            </div>
          </div>
          <div class="detail-item">
            <div class="detail-label">Can Receive Mail</div>
            <div class="detail-value">
              {% if result.is_deliverable %}
              <i class="fas fa-check-circle check"></i> Yes {% else %}
              <i class="fas fa-times-circle cross"></i> No {% endif %}
            </div>
          </div>
          <div class="detail-item">
            <div class="detail-label">Temporary Email</div>
            <div class="detail-value">
              {% if result.is_temporary %}
              <i class="fas fa-exclamation-triangle warn"></i> Yes {% else %}
              <i class="fas fa-check-circle check"></i> No {% endif %}
            </div>
          </div>
          <div class="detail-item">
            <div class="detail-label">Confidence Score</div>
            <div class="detail-value">
              <i class="fas fa-chart-line check"></i> {{ result.confidence_score
              }}%
            </div>
          </div>
        </div>

        <!-- Validation Steps -->
        {% if result.validation_steps %}
        <div class="section-card">
          <div class="section-header">
            <i class="fas fa-tasks"></i>
            <span>Validation Process</span>
          </div>
          <div class="validation-steps">
            {% if result.validation_steps.format %}
            <div
              class="step-item {% if result.validation_steps.format.status == 'valid' %}passed{% else %}failed{% endif %}"
            >
              <div
                class="step-icon {% if result.validation_steps.format.status == 'valid' %}passed{% else %}failed{% endif %}"
              >
                <i
                  class="fas {% if result.validation_steps.format.status == 'valid' %}fa-check{% else %}fa-times{% endif %}"
                ></i>
              </div>
              <div class="step-content">
                <div class="step-name">Format Validation</div>
                <div class="step-detail">
                  {{ result.validation_steps.format.message }}
                </div>
              </div>
            </div>
            {% endif %} {% if result.validation_steps.library %}
            <div
              class="step-item {% if result.validation_steps.library.status == 'valid' %}passed{% else %}failed{% endif %}"
            >
              <div
                class="step-icon {% if result.validation_steps.library.status == 'valid' %}passed{% else %}failed{% endif %}"
              >
                <i
                  class="fas {% if result.validation_steps.library.status == 'valid' %}fa-check{% else %}fa-times{% endif %}"
                ></i>
              </div>
              <div class="step-content">
                <div class="step-name">Library Validation</div>
                <div class="step-detail">
                  {{ result.validation_steps.library.message }}
                </div>
              </div>
            </div>
            {% endif %} {% if result.validation_steps.temporary %}
            <div
              class="step-item {% if result.validation_steps.temporary.is_temporary %}warning{% else %}passed{% endif %}"
            >
              <div
                class="step-icon {% if result.validation_steps.temporary.is_temporary %}warning{% else %}passed{% endif %}"
              >
                <i
                  class="fas {% if result.validation_steps.temporary.is_temporary %}fa-exclamation{% else %}fa-check{% endif %}"
                ></i>
              </div>
              <div class="step-content">
                <div class="step-name">Temporary Domain Check</div>
                <div class="step-detail">
                  {{ result.validation_steps.temporary.message }}
                </div>
              </div>
            </div>
            {% endif %} {% if result.validation_steps.mx %}
            <div
              class="step-item {% if result.validation_steps.mx.has_mx %}passed{% elif result.validation_steps.mx.has_mx == False %}failed{% else %}warning{% endif %}"
            >
              <div
                class="step-icon {% if result.validation_steps.mx.has_mx %}passed{% elif result.validation_steps.mx.has_mx == False %}failed{% else %}warning{% endif %}"
              >
                <i
                  class="fas {% if result.validation_steps.mx.has_mx %}fa-check{% elif result.validation_steps.mx.has_mx == False %}fa-times{% else %}fa-question{% endif %}"
                ></i>
              </div>
              <div class="step-content">
                <div class="step-name">MX Record Check</div>
                <div class="step-detail">
                  {{ result.validation_steps.mx.message }}
                </div>
              </div>
            </div>
            {% endif %}
          </div>
        </div>
        {% endif %} {% if result.domain_info.mx_records %}
        <div class="section-card">
          <div class="section-header">
            <i class="fas fa-server"></i>
            <span>Mail Servers (MX Records)</span>
          </div>
          <div class="mx-list">
            {% for mx in result.domain_info.mx_records %}
            <div class="mx-item">
              <span class="mx-priority">Priority {{ mx.priority }}</span>
              <span class="mx-server">{{ mx.exchange }}</span>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %} {% if result.risk_factors %}
        <div
          class="section-card"
          style="border: 1px solid rgba(255, 193, 7, 0.3)"
        >
          <div class="section-header" style="color: #ffc107">
            <i class="fas fa-exclamation-triangle"></i>
            <span>Risk Factors</span>
          </div>
          <ul class="risk-list">
            {% for factor in result.risk_factors %}
            <li class="risk-item">
              <i class="fas fa-exclamation-circle"></i>
              <span>{{ factor }}</span>
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endif %} {% if result.recommendation %}
        <div
          class="section-card"
          style="border: 1px solid rgba(0, 212, 255, 0.3)"
        >
          <div class="section-header" style="color: var(--accent-blue)">
            <i class="fas fa-lightbulb"></i>
            <span>Recommendation</span>
          </div>
          <p style="color: var(--text-secondary); line-height: 1.6">
            {{ result.recommendation }}
          </p>
        </div>
        {% endif %}
      </div>
    </div>
  </section>
  {% endif %}

  <!-- Features Section -->
  <section class="service-features-section">
    <div class="container">
      <h2 class="section-title">Email Security Features</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-layer-group"></i>
          </div>
          <h3>5-Layer Validation</h3>
          <p>
            Comprehensive validation including format check, library validation,
            DNS lookup, and behavioral analysis.
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-clock"></i>
          </div>
          <h3>Temp Mail Detection</h3>
          <p>
            Detects 200+ temporary and disposable email services to protect
            against fraudulent registrations.
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-network-wired"></i>
          </div>
          <h3>DNS Verification</h3>
          <p>
            Real-time MX record lookup and domain verification to ensure email
            deliverability.
          </p>
        </div>
      </div>
    </div>
  </section>
</div>
{% endblock %} {% block extra_js %}
<script>
  document
    .getElementById("emailValidationForm")
    .addEventListener("submit", function (e) {
      const loadingIndicator = document.getElementById("loadingIndicator");
      const submitBtn = document.getElementById("submitBtn");

      loadingIndicator.style.display = "block";
      submitBtn.disabled = true;
      submitBtn.innerHTML =
        '<i class="fas fa-spinner fa-spin"></i> <span>Validating...</span>';
    });
</script>
{% endblock %}
